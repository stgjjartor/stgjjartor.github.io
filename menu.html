<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ver Menú</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="firebase-config.js"></script> <!-- Aquí incluimos Firebase -->
</head>
<body>
    <div id="pagina3">
        <h2>Menú</h2>

        <!-- Menu Items -->
        <div class="plato" id="hamburguesa">
            <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExNWFpeDg5ZHJqOWt2NmlqNjN2eWEwZ2ZkeG80eGJmaXNuMjlmcGJhaCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ltLLWLhZXJCZW/giphy.gif" alt="Hamburguesa de buey">
            <button onclick="hacerPedido('Hamburguesa de Buey')">Pedir Hamburguesa</button>
        </div>
        <div class="plato" id="croquetas">
            <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ2hycWRoN25sdXk0eXRjdnpjZ3A5N2lqb3BmOGR1cjYxYmUzZ3VkayZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xb18nc6LTAOm2PIwcD/giphy.gif" alt="Croquetas">
            <button onclick="hacerPedido('Croquetas')">Pedir Croquetas</button>
        </div>
        <div class="plato" id="ensalada">
            <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExOGRja2dxbHVoZ3Y3aXc5ZnN0MGNpZWF1OGR2MmMyajc0NnYxazlrdCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Q7pQs9EPezLPtUhAcm/giphy.gif" alt="Ensalada césar">
            <button onclick="hacerPedido('Ensalada César')">Pedir Ensalada</button>
        </div>
        <div class="plato" id="entrecot">
            <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWR5OXg3ZTY1aXNlM3Zob2g4ODRleDNzN2w0NzNhcTM1a29kbms0ZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/QVIs84qNipWhq0fPVz/giphy.gif" alt="Entrecot">
            <button onclick="hacerPedido('Entrecot')">Pedir Entrecot</button>
        </div>

        <button onclick="window.location.href='opciones_cliente.html'">Volver</button>
    </div>

    <script>
        // Función para guardar el pedido en Firebase
        function hacerPedido(plato) {
            const pedidoRef = ref(database, 'pedidos/mesa1');  // Ruta para los pedidos de la Mesa 1
            const nuevoPedido = {
                plato: plato,
                fecha: new Date().toLocaleString()
            };

            // Usamos push() para agregar un nuevo pedido sin sobrescribir los existentes
            const newPedidoRef = push(pedidoRef);  // Crear un nuevo nodo para cada pedido
            set(newPedidoRef, nuevoPedido)
            .then(() => {
                alert("¡Pedido realizado con éxito! El pedido de " + plato + " ha sido registrado.");
            })
            .catch((error) => {
                alert("Error al realizar el pedido: " + error);
            });
        }
    </script>
</body>
</html>

